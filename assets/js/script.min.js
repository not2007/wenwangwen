function testid(e){if(!/^(([1][1-5])|([2][1-3])|([3][1-7])|([4][1-6])|([5][0-4])|([6][1-5])|([7][1])|([8][1-2]))\d{4}(([1][9]\d{2})|([2]\d{3}))(([0][1-9])|([1][0-2]))(([0][1-9])|([1-2][0-9])|([3][0-1]))\d{3}[0-9xX]$/.test(e))return!1;var t=e.substr(6,4),n=e.substr(10,2),a=e.substr(12,2),r=Date.parse(n+"-"+a+"-"+t),l=Date.parse(new Date),d=new Date(t,n,0).getDate();if(r>l||a>d)return!1;for(var u=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),o=new Array("1","0","X","9","8","7","6","5","4","3","2"),s=e.split(""),c=0,m=0;m<17;m++)c+=parseInt(s[m])*parseInt(u[m]);return s[17].toUpperCase()==o[c%11].toUpperCase()}function isPoneAvailable(e){return!!/^[1][3,4,5,7,8][0-9]{9}$/.test(e)}window.onload=function(){var e=document.getElementById("reg");document.getElementById("rewrite").addEventListener("click",function(){document.getElementById("form").reset()}),e.addEventListener("click",function(){var e=document.getElementById("nickname"),t=document.getElementById("password"),n=document.getElementById("repassword"),a=document.getElementById("phone"),r=document.getElementById("username"),l=document.getElementById("cid"),d=isPoneAvailable(a.value),u=testid(l.value),o=document.getElementById("checkbox");""!=e.value?""!=t.value?""!=n.value?""!=a.value?""!=r.value?""!=l.value?t.value==n.value?1==d?0!=u?0!=o.checked||alert("请阅读后用户协议然后勾选"):alert("身份证号码不正确"):alert("手机号码不正确"):alert("两个密码不相同"):alert("身份证号不能为空"):alert("姓名不能为空"):alert("手机不能为空"):alert("确认密码不能为空"):alert("密码不能为空"):alert("用户不能为空")},!1)};